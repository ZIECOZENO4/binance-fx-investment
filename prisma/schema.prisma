// prisma/schema.prisma

datasource db {
 provider = "postgresql"
 url      = env("DATABASE_URL")
}

generator client {
 provider = "prisma-client-js"
}

model User {
 id          String         @id @default(cuid())
 email       String         @unique
 name        String?
 image       String?
 createdAt   DateTime       @default(now())
 updatedAt   DateTime       @updatedAt
 balance     Float?
 payments    Payment[]     
 withdraw    Withdraw[]
 outinvest   OutInvest[]
 deposit     Deposit[]
}

model Payment {
 id          String         @id @default(cuid())
 amount      String
 coin        String
 plan        String
 planId      String
 time        DateTime       @default(now())
 balance     String
 gasFee      String
 userId      String         @map("user_id")
 userName    String         // New field to store the user's name
 user        User           @relation(fields: [userId], references: [id])
}

model Withdraw {
 id          String         @id @default(cuid())
 amount      String
 coin        String
 time        DateTime       @default(now())
 balance     String
 walletAddress String
 gasFee      String
 userId      String         @map("user_id")
 userName    String         // New field to store the user's name
 user        User           @relation(fields: [userId], references: [id])
}

model OutInvest {
 id          String         @id @default(cuid())
transactionId      String
 time        DateTime       @default(now())
 walletAddress String
 userId      String         @map("user_id")
 userName    String     
 user        User           @relation(fields: [userId], references: [id])
}

model Deposit {
 id          String         @id @default(cuid())
transactionId      String
 time        DateTime       @default(now())
 walletAddress String
 userId      String         @map("user_id")
 userName    String     
 user        User           @relation(fields: [userId], references: [id])
}

